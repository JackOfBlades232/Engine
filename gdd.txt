=== Reckless Pillager, a roguelike ===


In this game you play as a pillager, who stole the sword of the Last Emperor
of the accursed capital from his grave, and is trying to escape the dead city.
However, it seems that once you picked up the heirloom, the ghostly ruins came
alive with illusions and monsters. Now, you will have to navigate through
mazes, fight monsters and solve puzzles in order to escape with the prize. 
Fortunately, the sword that you now wield is a grand weapon indeed, and seems
to have some unusual magical abilities, that might aid you in your escape.

== General description ==

The view is top down, and the player proceeds through a series of maze-like
rooms. At first the player does not see the layout of the room, but it gets
revealed to him as he proceeds. However, he does not see points of interest,
loot or enemies unless he has line of sight to them. The player has stats, like
hp, mana and stamina, and characteristics: strength, agility and intelligence.
The loot that the hero may pick up, includes health potions, mana potions,
keys (of different types) and stat and char upgrades of different sorts. The 
player may encounter enemies, and then the game switches to a turn based battle
mode, where the player may choose between different types of attack moves,
defensive moves, potions or spells, granted to him by the sword. Different moves
scale from different characteristics. At the end of each room the hero may be
able to unlock new moves. The enemies can also attack and defend, use 
spells and special moves. There are also various status effects, like bleed,
poison, stun and fatigue, which can persist for some time after a battle.
There are also non-battle encounters with creatures and puzzles of the capital,
which play out in the shape of dialogues.

The goal of the game is to traverse a certain number of rooms, and 
utlimately leave the city alive.

== Map & Movement ==

= Map =
The map of a room is a rectangle comprised of square tiles, each representing
a certain terrain type. The different terrain tiles look differently, and
may render differently. Some may be walkable, some may not be (like walls),
and some might lead to damage and even death (like fire or an empty hole).
The player might also find doors and gates, that have to be manually opened.
The tiles may also contain interactible items, like loot, levers and switches.
Some tiles may also serve as triggers for battle encounters and puzzle/dialogue
encounters. The map has one entrance tile, and one exit tile. When the player
reaches the exit tile, the level is completed.


Tile types =
@TODO: list tile types with descr and stats

Door types =
@TODO: list doors and gates with usage and differences

Levers & traps =
@TODO: list levers, switches, traps and all that stuff

Lying loot =
@TODO: describe how loot is places and picked up

Encounters & triggers =
@TODO: describe how encounters work

= Hero movement =
The hero is one tile in size, and can move in all directions. The hero only
fully sees the objects that he has line of sight to (there is no view direction,
so the hero view cone is 360 degrees), and all else is only seen as a fainter
outline of the terrain. However, at the start of a room it is fully hidden by
the for of war, and the hero has to see the terrain once for it's outlines to
be memorized. The hero has a speed, but it can be increased by high agility, 
and decreased due to low stamina or a heavy load of loot. 

@DECIDE [The time only advances when the player moves, or it is all realtime]

Camera & ?Animations =
@TODO: describe camera (? and animations)

Collisions and terrain effects =
@TODO: decide how collisions with objects, terrain and triggers work

== Character stats ==
As mentioned above, the character has hp, mp, stamina, strength, agility and
intelligence. 

@TODO: expand and write out

== Inventory ==

There are no unique loot peices to be found, since all the environment seems to
be trying to punish the thief, rather than reward him. However, throughout the 
levels mana potions and health potions are scattered, and the hero can pick
them up to his inventory. The hero can also
pick up different keys, of which he can carry an unlimited amount, and they are
listed by name in the inventory. The keys may be used for opening certain doors,
and may break upon usage, break after a certain number of usages, or not break
at all. Lastly, pseudo-keys can be found: these are items, that the hero can
use in certain dialogue encounters (for example, a hero may find a ritual knife,
then stumble upon an altar before a sealed gate, and use the knife to cut his
hand and offer his blood as sacrifice, prompting the gates to open). These items
are useless outside encounters. 

@TODO: write out usage, UI, constraints

== Combat & Moves ==

Example combat encounter look (hero vs one-eyed imp):

     /    
 o  /        <o> /
 -->        ---\/  
 |              \
/ >            / \

When the character enters combat, a window with the drawings of the
character and the enemy. Their health, mana, stamina and status
effects are displayed. In another window below there is a menu of all 
available moves, offensive, defensive, and magical (spells), which can be 
offensive, defensive, or equivalent to item use. And, in another 
one can see the description of the highlighted move. The flow of the
figth consists of rounds, and before each round both sides choose a move to
perform or an item to use. On the right side of the combat widow a combat log
is displayed.

If both sides choose a defensive move, nothing really happens 
(enemies just cautiously size each other up). If one chooses an offensive move,
and the other chooses a defensive one, the defence will be considered a reaction
to the offense, and they will play out simultaneously. If both sides choose an
offensive move or to use an item, a roll-off (modified by the dexterity levels
of the sides) will decide, who's move shall be executed first. If one side
chooses to use an item, it is used before the other's attack.

Once the moves are chosen, animations are played depicting the moves and 
reactions to them, the combat log is updated and the stats of the sides are
updated. After that, if the combat has not ended, the next round starts.

All physical moves use up stamina, all spells use up mana. The combat is
finished in 2 cases:
1) One of the sides loses all health, and dies
2) The hero may try to escape combat, which takes up stamina and is not 
    guaranteed

If the enemy was defeated, the combat encounter zone ceases to exist.

All the fights are 1v1, however, it is possible that a sequence of enemies 
may attack the hero within one encounter, however the fights will be considered
separate. @FEATURE: this may change

@TODO: more on stats influence

= Combat moves =
@TODO: examples->list of moves

== Enemies ==

The enemies have the same kind of stats, characteristics and moves 
(though some have unique moves, that the hero can never unlock), as the 
hero, and behave symmetrically in combat, but are controlled by behaviour 
scripts. These scripts can vary in complexity from a simple "spam one attack"
for zombies and mindless beasts, to a more complex pattern, which takes into
account the hero's current state and the moves that the hero previously
performed in the fight, and could be used for a learned necromancer or a
sophisticated demon. All enemies have an avatar, and (hopefully) some
animations for moves and reactions to come with it.

@TODO: review
@TODO: more on different enemies and AI

== Dialogues ==

The dialogues, like fights, also pop up as separate UI when triggered from the 
map. However, here the structure is much simpler: there is a written description
of what is happening, and below it a list of responses to choose from. Some
responses may have requirements, like a minimal characteristic level, 
a certain item in the inventory, or enough hp/mana/stamina. Some may also be
probabilistic: the chance of success may not be 100%.

@TODO: review

The encouner may end in many different ways, depending on the design.
